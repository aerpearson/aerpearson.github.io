<!-- ArcGIS + Calcite imports -->
<script type="module" src="https://js.arcgis.com/calcite-components/3.2.1/calcite.esm.js"></script>
<link rel="stylesheet" href="https://js.arcgis.com/4.33/esri/themes/light/main.css" />
<script src="https://js.arcgis.com/4.33/"></script>
<script type="module" src="https://js.arcgis.com/4.33/map-components/"></script>
<link rel="stylesheet" href="style.css">

<!-- Raster selection controls -->
 <body>
<div id="titlebar">
  <h1>Probability of Vertical Land Motion Over Time in Cascadia</h1>
  <button id="projectBtn">Description</button>
</div>
<div id="projectDescriptionModal">
  <div id="projectDescriptionContent">
    <span id="closeProjectDescription">&times;</span>
    <h2>Description</h2>
    <p>
    This tool shows the probability of vertical land motion over time in Cascadia. The map view displays the probability of exceeding a given subsidence threshold over a time period, including the overall probability and with the assumption that a major subduction zone earthquake does or does not occur. Use the dropdown menu to the right to explore different scenarios.
    </p><p>
    Click on a point along the coast to view histograms showing the probability of different amounts of uplift or subsidence at that location (for a given time period and scenario). 
    </p>
    <p>
    This project was developed by Jeonghyeop Kim, David Schmidt, and Anna Pearson as a part of the <a href="https://cascadiacopeshub.org" target="_blank" rel="noopener">Cascadia CoPes Hub</a> (NSF Grant #2103713). 
    </p>
  </div>
</div>

<div id="legend"></div>

  <div id="controls">
    <label><strong>Subsidence Threshold (cm):</strong></label>
    <select id="cmSelect">
      <option value="50">50</option>
      <option value="100">100</option>
    </select>

    <br><br>
    <label><strong>Time Period (years):</strong></label>
    <select id="yearSelect">
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="100">100</option>
      <option value="200">200</option>
    </select>

    <br><br>
    <label><strong>Condition:</strong></label>
    <select id="condSelect">
      <option value="bo">Overall Probability</option>
      <option value="y">Earthquake</option>
      <option value="n">No Earthquake</option>
    </select>
  </div>

<!-- ArcGIS Map -->
<arcgis-map basemap="topo" center="-122,46" zoom="6">
<!-- item-id="486133bb5b16489287e9204a0161d60f">-->
  <arcgis-zoom position="top-left"></arcgis-zoom>
</arcgis-map>
  <script type="module" src="script.js"></script>
  <script src="script.js"></script>
<script>
  const projectBtn = document.getElementById("projectBtn");
  const projectModal = document.getElementById("projectDescriptionModal");
  const closeBtn = document.getElementById("closeProjectDescription");

  projectBtn.addEventListener("click", () => {
    projectModal.style.display = "block";
  });

  closeBtn.addEventListener("click", () => {
    projectModal.style.display = "none";
  });

  window.addEventListener("click", (event) => {
    if (event.target === projectModal) projectModal.style.display = "none";
  });
</script>
</body>
